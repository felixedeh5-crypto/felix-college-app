<!DOCTYPE html>
<html>
<head>
  <title>Super Admin Panel</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-4">
  <h2>Super Admin Dashboard - Felix College (YOU ONLY)</h2>
  <a href="/logout" class="btn btn-danger btn-sm">Logout</a>
  <hr>
  
  <!-- Add Student Form -->
  <h4>Add New Student</h4>
  <form method="POST">
    <input type="hidden" name="add_student" value="1">
    <div class="row">
      <div class="col-md-3">
        <input type="text" name="student_username" class="form-control" placeholder="Username (e.g. jss2_new)" required>
      </div>
      <div class="col-md-3">
        <input type="password" name="student_password" class="form-control" placeholder="Password" value="123" required>
      </div>
      <div class="col-md-3">
        <select name="student_class" class="form-control">
          <option value="JSS1">JSS1</option>
          <option value="JSS2">JSS2</option>
          <option value="JSS3">JSS3</option>
          <option value="SSS1">SSS1</option>
          <option value="SSS2">SSS2</option>
          <option value="SSS3">SSS3</option>
        </select>
      </div>
      <div class="col-md-3">
        <button type="submit" class="btn btn-success">Add Student</button>
      </div>
    </div>
  </form>
  <hr>

  <!-- Add Teacher Form -->
  <h4>Add New Teacher</h4>
  <form method="POST">
    <input type="hidden" name="add_teacher" value="1">
    <div class="row">
      <div class="col-md-3">
        <input type="text" name="teacher_username" class="form-control" placeholder="Username (e.g. mrs_english)" required>
      </div>
      <div class="col-md-3">
        <input type="password" name="teacher_password" class="form-control" placeholder="Password" value="teacher123" required>
      </div>
      <div class="col-md-3">
        <select name="teacher_class" class="form-control">
          <option value="JSS1">JSS1</option>
          <option value="JSS2">JSS2</option>
          <option value="JSS3">JSS3</option>
          <option value="SSS1">SSS1</option>
          <option value="SSS2">SSS2</option>
          <option value="SSS3">SSS3</option>
        </select>
      </div>
      <div class="col-md-3">
        <div class="form-check">
          <input type="checkbox" name="form_teacher" class="form-check-input">
          <label class="form-check-label">Form Teacher?</label>
        </div>
        <button type="submit" class="btn btn-primary mt-2">Add Teacher</button>
      </div>
    </div>
  </form>
  <hr>

  <h3>All Users ({{ users|length }})</h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th><th>Username</th><th>Role</th><th>Class</th><th>Form Teacher?</th><th>Active?</th>
      </tr>
    </thead>
    <tbody>
      {% for u in users %}
      <tr>
        <td>{{ u.id }}</td>
        <td>{{ u.username }}</td>
        <td><span class="badge bg-{{ 'danger' if u.role=='superadmin' else 'primary' if u.role=='student' else 'success' }}">{{ u.role }}</span></td>
        <td>{{ u.class_name or '-' }}</td>
        <td>{{ 'Yes' if u.is_form_teacher else 'No' }}</td>
        <td>{{ 'Yes' if u.is_active else 'No' }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
</body>
</html>